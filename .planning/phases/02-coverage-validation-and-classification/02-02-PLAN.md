---
phase: 02-coverage-validation-and-classification
plan: 02
type: execute
wave: 2
depends_on: ["02-01"]
files_modified:
  - .planning/specs/COVERAGE-AUDIT.md
  - .planning/specs/INVENTORY.md
  - .planning/specs/COVERAGE-BASELINE.md
  - .planning/specs/INDEX.md
autonomous: true
requirements: ["INVT-04", "INVT-03"]
user_setup: []
must_haves:
  truths:
    - "Coverage audit proves every in-scope artifact is represented or intentionally excluded with rationale."
    - "Coverage auditing process is reproducible and can be rerun after repo changes."
  artifacts:
    - ".planning/specs/COVERAGE-AUDIT.md"
    - ".planning/specs/INVENTORY.md"
    - ".planning/specs/COVERAGE-BASELINE.md"
  key_links:
    - "COVERAGE-AUDIT.md references discovery/rules/exclusions inputs and records remediation status tied to inventory IDs."
---

<objective>
Produce a deterministic, rerunnable coverage audit and remediate any inventory gaps.

Purpose: Fulfill INVT-04 with objective proof that in-scope coverage is complete.
Output: Coverage-audit report, refreshed inventory/baseline artifacts, and index links.
</objective>

<execution_context>
@/Users/peterryszkiewicz/.claude/get-shit-done/workflows/execute-plan.md
@/Users/peterryszkiewicz/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/REQUIREMENTS.md
@.planning/specs/POLICY.md
@.planning/specs/EXCLUSIONS.md
@.planning/specs/INVENTORY-RULES.md
@.planning/specs/INVENTORY.md
@.planning/specs/COVERAGE-BASELINE.md
@.planning/specs/INDEX.md
@.planning/phases/02-coverage-validation-and-classification/02-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Generate deterministic coverage audit report</name>
  <files>.planning/specs/COVERAGE-AUDIT.md</files>
  <action>Run the documented discovery pipeline, parse inventory artifact rows, compute `missing_from_inventory` and `extra_in_inventory`, and write a reproducible audit report in `.planning/specs/COVERAGE-AUDIT.md` with command references, counts, gap tables, and pass/fail status rubric.</action>
  <verify>rg -n "Discovery count|Inventory count|missing_from_inventory|extra_in_inventory|Status|Reproducibility" .planning/specs/COVERAGE-AUDIT.md</verify>
  <done>Audit report includes objective counts, explicit gap lists, and rerun instructions.</done>
</task>

<task type="auto">
  <name>Task 2: Remediate discovered inventory gaps</name>
  <files>.planning/specs/INVENTORY.md</files>
  <action>If the audit finds in-scope files missing from `INVENTORY.md`, update inventory rows and summary counts to close gaps while preserving deterministic ordering and `ART-####` assignment rules. Record remediation outcome in the audit document.</action>
  <verify>python3 - <<'PY'\nfrom pathlib import Path\ninv=Path('.planning/specs/INVENTORY.md').read_text().splitlines()\nrows=[ln for ln in inv if ln.startswith('| ART-')]\nprint('rows',len(rows))\nPY</verify>
  <done>Inventory and audit status reflect zero unresolved in-scope coverage gaps for current repository state.</done>
</task>

<task type="auto">
  <name>Task 3: Refresh baseline and index with audit linkage</name>
  <files>.planning/specs/COVERAGE-BASELINE.md, .planning/specs/INDEX.md</files>
  <action>Update `COVERAGE-BASELINE.md` totals to match remediated inventory and add a pointer to `COVERAGE-AUDIT.md`. Update `INDEX.md` so coverage audit is listed as required evidence artifact for completeness claims.</action>
  <verify>rg -n "COVERAGE-AUDIT|required evidence|Total in-scope" .planning/specs/COVERAGE-BASELINE.md .planning/specs/INDEX.md</verify>
  <done>Baseline/index documents are synchronized with audit outputs and explicitly describe evidence linkage.</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] test -f .planning/specs/COVERAGE-AUDIT.md
- [ ] rg -n "missing_from_inventory|extra_in_inventory" .planning/specs/COVERAGE-AUDIT.md
- [ ] rg -n "COVERAGE-AUDIT" .planning/specs/INDEX.md
- [ ] git diff --name-only | rg -v '^\.planning/' returns no output
</verification>

<success_criteria>

- All tasks completed
- Coverage audit is reproducible and objective
- Inventory gaps are remediated and documented (INVT-04)
- Exclusion rationale is preserved in audit interpretation (INVT-03)
- No source implementation files modified

</success_criteria>

<output>
After completion, create `.planning/phases/02-coverage-validation-and-classification/02-02-SUMMARY.md`
</output>
